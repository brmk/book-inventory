<template name="Books_details">
	<!-- A book will have the following info: name, author, ISBN, date published, date added, cover -->
	<div class="container">
		<div class="control-group">
			{{#if state 'view'}}
				<a class="btn btn-default" action="set-state" data-state="edit">Edit</a>
			{{/if}}
			{{#if book._id}}
				<a class="btn btn-danger" action="remove-book">Remove</a>
			{{/if}}
		</div>
		<br>
		<div class="row">
			{{#with book}}
				{{#if state 'view'}}
					<div class="col-sm-6 col-md-4">
						<img src="{{image}}" class="img-responsive book-img" >
					</div>
					<div class="col-sm-6 col-md-8">
						<h4>
							{{name}}
						</h4>
						<h5>
							{{author}}
						</h5>
						<br>
							ISBN : {{ISBN}}
						<br>
							Published at <i>{{formatDate publishedAt}}</i>
						<br>
							Added at <i>{{formatDate createdAt}}</i>
						<br>
					</div>
				{{/if}}
				{{#if state 'edit'}}
					<div class="col-sm-12">
						<form id="book-form">
							<div class="form-group">
								<label>Name</label>
								<input type="text" class="form-control" name="name" required value="{{name}}"> 
							</div>
							<div class="form-group">
								<label>Author</label>
								<input type="text" class="form-control" name="author" required value="{{author}}"> 
							</div>
							<div class="form-group">
								<label>ISBN</label>
								<input type="text" class="form-control" name="ISBN" required value="{{ISBN}}"> 
							</div>
							<div class="form-group">
								<label>Published at</label>
								<input type="text" class="form-control datepicker" name="publishedAt" data-date-format="M dd, yyyy" required value="{{formatDate publishedAt}}"> 
							</div>
							<div class="form-group">
								<label>Image</label>
								<input type="file" class="form-control" name="image">
								<img class="img-responsive book-img" src="{{uploadedImage image}}" style="max-height:600px"> 
							</div>
							
							<button action="submit" class="btn btn-primary">Save</button>
							<a class="btn btn-default" action="set-state" data-state="view">Cancel</a>
						</form>
					</div>
				{{/if}}
			{{/with}}
		</div>
	</div>
</template>